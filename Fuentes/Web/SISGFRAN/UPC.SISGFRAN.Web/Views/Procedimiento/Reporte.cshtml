
@{
    ViewBag.Title = "Reporte De evaluación";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{
    var message = TempData["msg"] ?? string.Empty;
}

<div class="container2">
    <div class="row col-lg-11">
        <h3 class="page-header">Reporte de evaluación de procedimientos</h3>
    </div>

    <div class="row col-lg-11">
        <div class="col-md-5">
            <label class="control-label col-md-4">Franquicia: </label>
            <div class="col-md-8">
                <input type="text" class="form-control" name="txtFranquicia" id="txtFranquicia" disabled="disabled" />
            </div>
        </div>

        <div class="col-md-5">
            <label class="control-label col-md-4">Responsable: </label>
            <div class="col-md-8">
                <input type="text" class="form-control" name="txtResp" id="txtResp" disabled="disabled" />
            </div>
        </div>
    </div>
    <div class="row col-lg-11" style="height:5px;"></div>
    <div class="row col-lg-11">
        <div class="col-md-5">
            <label class="control-label col-md-4">Periodo: </label>
            <div class="col-md-8">
                <input type="text" class="form-control" name="txtPeriodo" id="txtPeriodo" disabled="disabled" />
            </div>
        </div>

        <div class="col-md-5">
            <label class="control-label col-md-4">Fecha de Evaluación: </label>
            <div class="col-md-8">
                <input type="text" class="form-control" name="txtFecha" id="txtFecha" disabled="disabled" />
            </div>
        </div>

    </div>
    <div class="row col-lg-11" style="height:5px;"></div>
    <div class="row col-lg-11">
        <div class="col-md-10">
            <label class="control-label col-md-2">Comentarios: </label>
            <div class="col-md-8">
                <textarea rows="4" cols="88" name="txtComentario" id="txtComentario"></textarea>
            </div>
        </div>

        <div class="col-md-1 margenBoton">
            <span class="input-group-btn">
                <a class="btn btn-primary" href='#' onclick="Grabar();" id='btnGrabar' title='Grabar'>
                    <span class='glyphicon glyphicon-save'>
                        Grabar
                    </span>
                </a>
            </span>
        </div>
    </div>
    <div class="row col-lg-11" style="height:15px;"></div>
    <div class="row col-lg-11">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <i class="fa fa-table" aria-hidden="true"></i> Procedimientos afectados
            </div>
            <div class="panel-body">
                <div class="row">
                    <div style="float: right; width: 50%;">
                        <label class="control-label col-md-3">Leyenda de calificación: </label>
                        <ul class="legend">
                            <li><span class="legendGreen"></span> De 0 a < 3</li>
                            <li><span class="legendYellow"></span> De 3 a 7</li>
                            <li><span class="legendRed"></span> De > 7 a 10</li>
                        </ul>
                    </div>
                    <div style="clear:both;"></div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div id="gridDetalle">
                            @Html.Partial("_Detalle")
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="panel panel-primary">
            <div class="panel-heading">
                <i class="fa fa fa-area-chart fa-fw"></i> Análisis de reclamos/sugerencias del Local
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-lg-10">
                        <div id="morris-area-chart"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row col-lg-11">
        <div class="row" style="float:right; width:28%">
            <div class="form-group row col-md-3">
                <span class="input-group-btn" style="padding-left:5px;">
                    <a class="btn btn-primary" href='#' onclick="Enviar();" id='btnEnviar' title='Enviar notificación'>
                        <span class='glyphicon glyphicon-tasks'>
                            Enviar Notificación
                        </span>
                    </a>
                </span>

                <span class="input-group-btn" style="padding-left:5px;">
                    <a class="btn btn-primary" href='#' onclick="Cancelar();" id='btnCancelar' title='Cancelar'>
                        <span class='glyphicon glyphicon-cancel'>
                            Cancelar
                        </span>
                    </a>
                </span>
            </div>
        </div>
        <div style="clear:both;"></div>
    </div>

</div>

@section scripts{
    @Scripts.Render("~/bundles/jqueryval")

    <section class="scripts">

        <script type="text/javascript">

        $(document).ready(function () {


        });

        function LoadGraficoArea(data)
        {
            $("#morris-area-chart").html("");
            //var grafico = Morris.Area({
            //    backgroundColor: '#ccc',
            //    labelColor: '#060',
            //    element: 'morris-area-chart',
            //    data: data.ListaCoberturaGrafico,
            //    xkey: 'FechaCalendario',
            //    xLabelAngle: 90,
            //    xLabels: 'day',
            //    yLabelFormat: function (y) { return ''; },
            //    ykeys: ['VisitasEfectivas', 'VisitasNoEfectivas', 'RealPdvVisitados'],
            //    labels: ['Visitas efectivas','Visitas No Efectivas','PDV Asignados' ],
            //    pointSize: 2,
            //    hideHover: 'auto',
            //    resize: true,
            //    smooth: true,
            //    grid: false,
            //    fillOpacity: 0.7,
            //    lineColors: ['#F79263','#A7B3BC','#0B62A4' ],
            //    hoverCallback: function(index, options, content) {
            //    var data = options.data[index];
            //    return ["PDV Asignados: " + data.PdvAsignados,
            //            "Visitas No Efectivas: " + data.VisitasNoEfectivas,
            //            "Visitas Efectivas: " + data.VisitasEfectivas,
            //             data.SUM].join('<br/>');
            //    }

            //});

        }

        </script>
        <script type="text/javascript">
        var message = '@message';
        if (message)
            bootbox.alert(message);
        </script>

    </section>
}